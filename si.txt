public ControllerCrearTx(BasePageWeb parentPage) throws Exception {

		this.pageTitle = parentPage.getTitle();
		pagePortalPymes = new PagePortalPymes(parentPage);
		pageOrigen = new PageOrigen(parentPage);
		pageDestino = new PageDestino(parentPage);
		pageValores = new PageValores(parentPage);
		pageConf = new PageConfirmacion(parentPage);

		pageConsultasyExtractos = new PageConsultasyExtractos(parentPage);
		pagePendApr = new PagePendAprobacion(parentPage);
		pageAprobInter = new PageAprobacionInter(parentPage);

		// Datos Globales
		this.servicio = SettingsRun.getTestData().getParameter("Servicio").trim();
		this.tipoPrueba = SettingsRun.getTestData().getParameter("Tipo prueba").trim();
		adenda = SettingsRun.getTestData().getParameter("Adenda").trim();
		this.numAprobaciones = SettingsRun.getTestData().getParameter("Números de Aprobaciones").trim();
		this.unaFirma = this.numAprobaciones.equals("1");

		riesgoBc = SettingsRun.getTestData().getParameter("Nivel de Riesgo BC").trim();
		riesgoEfm = SettingsRun.getTestData().getParameter("Nivel de Riesgo SAS EFM").trim();

		navegador = SettingsRun.getTestData().getParameter("Navegador").trim();

		this.nombreEmpre = SettingsRun.getTestData().getParameter("Nombre Empresa").trim();

		this.nitEmpre = SettingsRun.getTestData().getParameter("Numero ID Empresa").trim();
		this.tipoIdEm = SettingsRun.getTestData().getParameter("Tipo ID Empresa");

		this.tipoCta = SettingsRun.getTestData().getParameter("Tipo producto origen / Franquicia").trim();
		this.numCta = SettingsRun.getTestData().getParameter("Número producto origen").trim();

		this.uuid = SettingsRun.getTestData().getParameter("Hash").trim();

		this.descripcionsin = SettingsRun.getTestData().getParameter("Descripcion").trim();

		this.valorsin = SettingsRun.getTestData().getParameter("Valor a Pagar / Transferir").trim();
		this.valorcon = SettingsRun.getTestData().getParameter("Valor a Pagar / Transferir");
		this.referenciasin = SettingsRun.getTestData().getParameter("Referencia").trim();
		this.desdeElDetalle = SettingsRun.getTestData().getParameter("Desde_el_Detalle").trim();

		// INGRESO DE LA REFERENCIA
		if (!this.servicio.contains("Nómi") && !this.servicio.contains("Proveedores")) {
			this.referencia1 = SettingsRun.getTestData().getParameter("Referencia1 / Tipo Producto Destino").trim();
			this.referencia2 = SettingsRun.getTestData().getParameter("Referencia2 / Número Producto Destino").trim();

		}

		if (this.servicio.contains("Pagos Automaticos") || this.servicio.contains("Servicios"))
			this.numConvenio = SettingsRun.getTestData().getParameter("Número de Convenio").trim();

		if (this.servicio.contains("Pagos Automaticos")) {
			this.diaDiaDelpago = SettingsRun.getTestData().getParameter("Día del pago").trim();
			this.titul = SettingsRun.getTestData().getParameter("Nombre del Titular").trim();
			this.tipoCtaSecundario = SettingsRun.getTestData().getParameter("Tipo producto origen Secundario").trim();
			this.numCtaSecundario = SettingsRun.getTestData().getParameter("Número producto origen Secundario").trim();
		}

		if (this.servicio.contains("Cuenta No Inscrita") || this.servicio.contains("Cuenta Inscrita")) {

			this.bncoDest = SettingsRun.getTestData().getParameter("Banco Destino").trim();

			if (this.servicio.contains("Cuenta No Inscrita")) {
				this.titul = SettingsRun.getTestData().getParameter("Nombre del Titular").trim();
				this.tipoid = SettingsRun.getTestData().getParameter("Tipo Identificación del Titular").trim();
				this.numid = SettingsRun.getTestData().getParameter("Número Identificación del Titular").trim();
			}
		}

		if (this.servicio.contains("Avance TC")) {
			this.mesTC = SettingsRun.getTestData().getParameter("Mes Vencimiento TC").trim();
			this.avenTC = SettingsRun.getTestData().getParameter("Año Vencimiento TC").trim();
			this.plazoDiAv = SettingsRun.getTestData().getParameter("Plazo a diferir el avance").trim();
		}

		// Divisas
		if (this.servicio.contains("Tx Internacionales Recibir desde el exterior")
				|| this.servicio.contains("Tx Internacionales Enviar al exterior")) {
			this.numerodereferenciaExterna = SettingsRun.getTestData().getParameter("Número de referencia Externa")
					.trim();
			pageDivisas = new PageDivisas(parentPage);
			pageEnviarTransInternacional = new PageEnviarTransInternacional(parentPage);
			pageRecibirTransferenciasInternacionales = new PageRecibirTransferenciasInternacionales(parentPage);
			pageDocumentos_Y_Formularios = new PageDocumentos_Y_Formularios(parentPage);
			pageConsultatxInternacional = new PageConsultatxInternacional(parentPage);

			this.tipoMoneda = SettingsRun.getTestData().getParameter("Tipo Moneda");
			this.modena = SettingsRun.getTestData().getParameter("Tipo Moneda").trim();
			this.concepTx = SettingsRun.getTestData().getParameter("Concepto de la transferencia").trim();
			this.concepto = SettingsRun.getTestData().getParameter("Concepto de la transferencia");
			this.valorNumeral1 = SettingsRun.getTestData().getParameter("Valor numeral cambiario 1");
			this.valorNumeral2 = SettingsRun.getTestData().getParameter("Valor numeral cambiario 2");
			this.tipoEnvio = SettingsRun.getTestData().getParameter("Tipo de Envio");
			this.FechaEnvioFrecuente = SettingsRun.getTestData().getParameter("Fecha envío frecuente");
			this.nombreBene = SettingsRun.getTestData()
					.getParameter("Ordenante / Nombre del beneficiario en el exterior");
			this.paisDestino = SettingsRun.getTestData().getParameter("País de destino de la transferencia");
			this.ciudadDestino = SettingsRun.getTestData()
					.getParameter("Ciudad y país donde está ubicado el beneficiario");
			this.direccionBene = SettingsRun.getTestData().getParameter("Dirección del beneficiario");
			this.cuentaBene = SettingsRun.getTestData().getParameter("Número de cuenta, IBAN o CLABE");
			this.infoPago = SettingsRun.getTestData().getParameter("Información para el beneficiario");
			this.referenciaPago = SettingsRun.getTestData().getParameter("Información para el beneficiario Numero");

			this.tipoCodigo = SettingsRun.getTestData().getParameter("Tipo de código");
			this.numeroCodigo = SettingsRun.getTestData().getParameter("Número de código");
			this.intermediario = SettingsRun.getTestData().getParameter("Requiere un banco intermediario");
			this.tipoCodigoInter = SettingsRun.getTestData().getParameter("Tipo de código Intermediario");
			this.numeroCodigoInter = SettingsRun.getTestData().getParameter("Número de código Intermediario");

		}

		
		
		
		// Consulta Comprobantes
		if (SettingsRun.getTestData().parameterExist("Tiempo de Consulta"))
		this.tipoConstaTxRealizadas = SettingsRun.getTestData().getParameter("Tiempo de Consulta");
		if (SettingsRun.getTestData().parameterExist("Fecha tx"))
		this.fecha = SettingsRun.getTestData().getParameter("Fecha tx");
		if (SettingsRun.getTestData().parameterExist("Hora tx"))
		this.hora = SettingsRun.getTestData().getParameter("Hora tx");
		if (SettingsRun.getTestData().parameterExist("Tipo Moneda"))
		this.moneda = SettingsRun.getTestData().getParameter("Tipo Moneda").trim();

		if (!DatosDavivienda.IS_RISKMOTOR) {
			nombreAmbiente = SettingsRun.getGlobalData("AMBIENTE_PYME");

			switch (nombreAmbiente) {
			case "1":
			case "PROYECTOS":
				nombreAmbiente = "PROYECTOS";
				break;
			case "2":
			case "CONTENCION":
				nombreAmbiente = "CONTENCION";
				break;
			case "3":
			case "OBSOLESCENCIA":
				nombreAmbiente = "OBSOLESCENCIA";
				break;
			case "4":
			case "ONPREMISE":
				nombreAmbiente = "ONPREMISE";
				break;
			case "5":
			case "POST_NUBE":
				nombreAmbiente = "POST_NUBE";
				break;
			case "6":
			case "CONTENCION_NUBE":
				nombreAmbiente = "CONTENCION_NUBE";
				break;
			case "7":
			case "PROYECTOS_NUBE":
				nombreAmbiente = "PROYECTOS_NUBE";
				break;
			case "8":
			case "MEJORAS":
				nombreAmbiente = "MEJORAS";
				break;
			default:
				Reporter.reportEvent(Reporter.MIC_FAIL, "Opción no válida");
				break;
			}
		}

	}
